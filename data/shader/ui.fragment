#version 330

// UV coordinate
in vec2 out_uv;
in float out_alpha;

// Texture input
uniform sampler2D in_texture;

// Color output
out vec4 color;

void main(void) {

  // Get texel from texture
  vec4 tex = texture(in_texture, out_uv);

  // Choose smallest alpha
  float alpha = min(out_alpha, tex.w);

  // Output fragment color
  color = vec4(tex.xyz, alpha);
}
